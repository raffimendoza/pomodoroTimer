{"ast":null,"code":"import _objectSpread from\"/Users/raffimendoza/pomodoroTimer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raffimendoza/pomodoroTimer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{Modal}from\"./Modal\";import'../styles/timer.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var timerTypes={NORMAL:'NORMAL',SHORT_BREAK:'SHORT_BREAK',LONG_BREAK:'LONG_BREAK'};export function Timer(){var _useState=useState(timerTypes.NORMAL),_useState2=_slicedToArray(_useState,2),selectedTimer=_useState2[0],setSelectedTimer=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),paused=_useState4[0],pauseTimer=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),change=_useState6[0],changeNow=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentCycle=_useState8[0],changeCycle=_useState8[1];var _useState9=useState(25),_useState10=_slicedToArray(_useState9,2),min=_useState10[0],setMin=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),sec=_useState12[0],setSec=_useState12[1];var _useState13=useState({visible:false,title:'Good Job',body:'Now we have a shrot break for a coffee :)'}),_useState14=_slicedToArray(_useState13,2),modalInfo=_useState14[0],setModalInfo=_useState14[1];function setMinutes(timerType){setSelectedTimer(timerType);if(timerType===timerTypes.NORMAL)setMin(25);if(timerType===timerTypes.SHORT_BREAK)setMin(5);if(timerType===timerTypes.LONG_BREAK)setMin(15);}var setTimerType=function setTimerType(type){if(selectedTimer!==type){pauseTimer(true);changeNow(true);setMinutes(type);}};var alternateCycles=function alternateCycles(){if(currentCycle<2){if(selectedTimer===timerTypes.NORMAL){setModalInfo(_objectSpread(_objectSpread({},modalInfo),{},{visible:true}));setTimerType(timerTypes.SHORT_BREAK);}else{setModalInfo(_objectSpread(_objectSpread({},modalInfo),{},{visible:true}));setTimerType(timerTypes.NORMAL);changeCycle(currentCycle+1);}}else{setModalInfo(_objectSpread(_objectSpread({},modalInfo),{},{visible:true}));setTimerType(timerTypes.LONG_BREAK);changeCycle(0);}};var displayMinutes=min>9?min:\"0\".concat(min);var displaySeconds=sec>9?sec:\"0\".concat(sec);useEffect(function(){if(!paused){document.title=\"\".concat(displayMinutes,\":\").concat(displaySeconds,\" - Don't stop!\");var interval=setInterval(function(){if(sec===0){if(min===0){pauseTimer(true);alternateCycles();clearInterval(interval);return;}setSec(59);setMin(min-1);}else{setSec(sec-1);}},1000);}else{document.title='Pomodoro - IST 263 Study References';if(change){setSec(0);changeNow(false);}}return function(){clearInterval(interval);};// eslint-disable-next-line\n},[paused,min,sec]);return/*#__PURE__*/_jsxs(\"main\",{children:[modalInfo.visible?/*#__PURE__*/_jsx(Modal,{modalInfo:{modalInfo:modalInfo,setModalInfo:setModalInfo}}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"pomodoroBtn\",className:\"btn \".concat(selectedTimer===timerTypes.NORMAL&&'selected'),onClick:function onClick(){if(selectedTimer===timerTypes.NORMAL||window.confirm('Press OK to switch timers.')){setTimerType(timerTypes.NORMAL);}},children:\"Pomodoro\"}),/*#__PURE__*/_jsx(\"button\",{id:\"shortBreackBtn\",className:\"btn \".concat(selectedTimer===timerTypes.SHORT_BREAK&&'selected'),onClick:function onClick(){if(selectedTimer===timerTypes.SHORT_BREAK||window.confirm('Press OK to switch timers.')){setTimerType(timerTypes.SHORT_BREAK);}},children:\"Short break\"}),/*#__PURE__*/_jsx(\"button\",{id:\"longBreakBtn\",className:\"btn \".concat(selectedTimer===timerTypes.LONG_BREAK&&'selected'),onClick:function onClick(){if(selectedTimer===timerTypes.LONG_BREAK||window.confirm('Press OK to switch timers.')){setTimerType(timerTypes.LONG_BREAK);}},children:\"Long break\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[displayMinutes,\":\",displaySeconds]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return pauseTimer(!paused);},children:paused?'START':'STOP'})]})]})]});}","map":{"version":3,"names":["useEffect","useState","Modal","timerTypes","NORMAL","SHORT_BREAK","LONG_BREAK","Timer","selectedTimer","setSelectedTimer","paused","pauseTimer","change","changeNow","currentCycle","changeCycle","min","setMin","sec","setSec","visible","title","body","modalInfo","setModalInfo","setMinutes","timerType","setTimerType","type","alternateCycles","displayMinutes","displaySeconds","document","interval","setInterval","clearInterval","window","confirm"],"sources":["/Users/raffimendoza/pomodoroTimer/src/Components/Timer.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Modal } from \"./Modal\";\nimport '../styles/timer.scss'\n\nconst timerTypes = {\n  NORMAL: 'NORMAL',\n  SHORT_BREAK: 'SHORT_BREAK',\n  LONG_BREAK: 'LONG_BREAK'\n}\n\nexport function Timer () {\n  \n  const [ selectedTimer, setSelectedTimer ] = useState(timerTypes.NORMAL);\n  const [ paused , pauseTimer ] = useState(true);\n  const [ change, changeNow ] = useState(false);\n  const [ currentCycle, changeCycle ] = useState(0);\n  const [ min, setMin ] = useState(25);\n  const [ sec, setSec ] = useState(0);\n\n  const [ modalInfo, setModalInfo ] = useState({visible: false, title:'Good Job', body:'Now we have a shrot break for a coffee :)'});\n  \n  function setMinutes (timerType) {\n    \n    setSelectedTimer(timerType);\n    \n    if (timerType === timerTypes.NORMAL) setMin(25);\n    if (timerType === timerTypes.SHORT_BREAK) setMin(5);\n    if (timerType === timerTypes.LONG_BREAK) setMin(15);\n  }\n  \n  const setTimerType = (type) => {\n    if (selectedTimer !== type) {\n      pauseTimer(true);\n      changeNow(true);\n      setMinutes(type);\n    }\n  }\n  \n  const alternateCycles = () => {\n    if (currentCycle < 2) {\n      if (selectedTimer === timerTypes.NORMAL) {\n        setModalInfo({...modalInfo, visible: true})\n        setTimerType(timerTypes.SHORT_BREAK);\n      } else {\n        setModalInfo({...modalInfo, visible: true})\n        setTimerType(timerTypes.NORMAL);\n        changeCycle(currentCycle+1);\n      }\n    } else {\n      setModalInfo({...modalInfo, visible: true})\n      setTimerType(timerTypes.LONG_BREAK);\n      changeCycle(0);\n    }\n  }\n\n  const displayMinutes = min > 9 ? min : `0${min}`\n  const displaySeconds = sec > 9 ? sec : `0${sec}`\n\n  useEffect(() => {\n    if (!paused) {\n      document.title = `${displayMinutes}:${displaySeconds} - Don't stop!`\n      var interval = setInterval( ()=>{\n        if (sec === 0) {\n          if (min === 0) {\n            pauseTimer(true);\n            alternateCycles();\n            clearInterval(interval);\n            return;\n          }\n          setSec(59);\n          setMin(min-1);\n        } else {\n          setSec(sec-1);\n        }  \n      }, 1000);\n    } else {\n      document.title = 'Pomodoro - IST 263 Study References'\n      if (change) {\n        setSec(0);\n        changeNow(false);\n      }\n    }    \n\n    return () => {\n      clearInterval(interval);\n    }\n  // eslint-disable-next-line\n  }, [paused, min, sec]);\n  \n  return (\n    <main>\n      { modalInfo.visible ? <Modal modalInfo={ {modalInfo, setModalInfo} } /> : '' }\n      <div className=\"container\">\n        <div className=\"buttons\">\n          <button \n            id=\"pomodoroBtn\" className={`btn ${selectedTimer === timerTypes.NORMAL && 'selected'}`}\n            onClick={ () => { if (selectedTimer === timerTypes.NORMAL || window.confirm('Press OK to switch timers.')) { setTimerType(timerTypes.NORMAL) }}}>\n            Pomodoro\n          </button>\n          <button \n            id=\"shortBreackBtn\" className={`btn ${selectedTimer === timerTypes.SHORT_BREAK && 'selected'}`}\n            onClick={ () => { if (selectedTimer === timerTypes.SHORT_BREAK || window.confirm('Press OK to switch timers.')) { setTimerType(timerTypes.SHORT_BREAK) }}}>\n            Short break\n          </button>\n          <button \n            id=\"longBreakBtn\" className={`btn ${selectedTimer === timerTypes.LONG_BREAK && 'selected'}`}\n            onClick={ () => { if (selectedTimer === timerTypes.LONG_BREAK || window.confirm('Press OK to switch timers.')) { setTimerType(timerTypes.LONG_BREAK) }}}>\n            Long break\n          </button> \n        </div>\n\n        <div className=\"timer\">\n          <h3>{displayMinutes}:{displaySeconds}</h3>\n          <button onClick={ () => pauseTimer(!paused) }>{ paused ? 'START' : 'STOP' }</button>\n        </div>\n\n      </div>\n\n    </main>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}